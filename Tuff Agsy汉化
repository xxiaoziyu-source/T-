local Translations = { 
["Tuff Agsy"] = "○○汉化",
["Important"] = "重要信息", 
["Update-Logs"] = "更新日志", 
["Combat"] = "战斗", 
["Auto"] = "自动", 
["视觉"] = "视觉", 
["传送"] = "传送", 
["玩家"] = "玩家", 
["Auto Feed"] = "自动喂食", 
["杂项"] = "杂项", 
["Bring"] = "资源携带", 
["No Cooldown (Good Axe Only)"] = "无冷却（仅优质斧头）", 
["杀戮光环"] = "杀戮光环", 
["Chop Aura"] = "砍伐光环", 
["Aura Radius"] = "光环半径", 
["Auto Upgrade Campfire"] = "自动升级营火", 
["Auto Cook Food"] = "自动烹饪食物", 
["Auto Sack 迷路孩子"] = "自动收纳迷路孩子", 
["Esp Items"] = "物品ESP", 
["Enable Esp"] = "启用物品ESP", 
["Esp Entity"] = "实体ESP", 
["Enable Esp（实体）"] = "启用实体ESP", 
["ESP Children"] = "孩子ESP", 
["孩子ESP"] = "孩子ESP", 
["ESP Pelt Trader"] = "皮毛商人ESP", 
["Pelt Trader ESP"] = "皮毛商人ESP", 
["Junk"] = "垃圾", 
["Select Junk Items"] = "选择垃圾物品", 
["Bring Junk Items"] = "携带垃圾物品", 
["燃料"] = "燃料", 
["Select 燃料 Items"] = "选择燃料物品", 
["Bring 燃料 Items"] = "携带燃料物品", 
["Food"] = "食物", 
["Select Food Items"] = "选择食物物品", 
["Bring Food Items"] = "携带食物物品", 
["Tyre"] = "轮胎", 
["Bolt"] = "螺栓", 
["Broken Fan"] = "破损风扇", 
["Broken Microwave"] = "破损微波炉", 
["Sheet Metal"] = "金属板", 
["Old Radio"] = "旧收音机", 
["Washing Machine"] = "洗衣机", 
["Old Car Engine"] = "旧汽车引擎", 
["Log"] = "原木", 
["Chair"] = "椅子", 
["Coal"] = "煤炭", 
["燃料 Canister"] = "燃料罐", 
["Oil Barrel"] = "油桶", 
["Cake"] = "蛋糕", 
["Cooked Steak"] = "熟牛排", 
["Cooked Morsel"] = "熟小块肉", 
["Steak"] = "牛排", 
["Morsel"] = "小块肉", 
["Berry"] = "浆果", 
["Carrot"] = "胡萝卜", 
["Medicine"] = "医疗", 
["Select Medical Items"] = "选择医疗物品", 
["Bring Medical Items"] = "携带医疗物品", 
["Equipment"] = "装备", 
["Select Equipment Items"] = "选择装备物品", 
["Bring Equipment Items"] = "携带装备物品", 
["迷路孩子"] = "迷路孩子", 
["Select 迷路孩子"] = "选择迷路孩子", 
["Refresh List"] = "刷新列表", 
["Bring 迷路孩子"] = "携带迷路孩子", 
["传营地fire"] = "传营地fire", 
["传要塞"] = "传要塞", 
["Children"] = "孩子", 
["Select Child"] = "选择孩子", 
["传送 to Child"] = "传送至孩子", 
["Chest"] = "箱子", 
["Select Chest"] = "选择箱子", 
["Enable 飞行"] = "启用飞行", 
["Speed"] = "速度", 
["Enable Speed"] = "启用速度", 
["穿墙"] = "穿墙", 
["Inf Jump"] = "无限跳跃"
} 

local function translateText(text) 
    if not text or type(text) ~= "string" then return text end 
    if Translations[text] then 
        return Translations[text] 
    end 
    for en, cn in pairs(Translations) do 
        if text:find(en) then 
            return text:gsub(en, cn) 
        end 
    end 
    return text 
end 

local function setupTranslationEngine() 
    local success, err = pcall(function() 
        local oldIndex = getrawmetatable(game).__newindex 
        setreadonly(getrawmetatable(game), false) 
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v) 
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then 
                v = translateText(tostring(v)) 
            end 
            return oldIndex(t, k, v) 
        end) 
        setreadonly(getrawmetatable(game), true) 
    end) 

    if not success then 
        warn("元表劫持失败:", err) 
        local translated = {} 
        local function scanAndTranslate() 
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do 
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then 
                    pcall(function() 
                        local text = gui.Text 
                        if text and text ~= "" then 
                            local translatedText = translateText(text) 
                            if translatedText ~= text then 
                                gui.Text = translatedText 
                                translated[gui] = true 
                            end 
                        end 
                    end) 
                end 
            end 

            local player = game:GetService("Players").LocalPlayer 
            if player and player:FindFirstChild("PlayerGui") then 
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do 
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then 
                        pcall(function() 
                            local text = gui.Text 
                            if text and text ~= "" then 
                                local translatedText = translateText(text) 
                                if translatedText ~= text then 
                                    gui.Text = translatedText 
                                    translated[gui] = true 
                                end 
                            end 
                        end) 
                    end 
                end 
            end 
        end 

        local function setupDescendantListener(parent) 
            parent.DescendantAdded:Connect(function(descendant) 
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then 
                    task.wait(0.1) 
                    pcall(function() 
                        local text = descendant.Text 
                        if text and text ~= "" then 
                            local translatedText = translateText(text) 
                            if translatedText ~= text then 
                                descendant.Text = translatedText 
                            end 
                        end 
                    end) 
                end 
            end) 
        end 

        pcall(setupDescendantListener, game:GetService("CoreGui")) 
        local player = game:GetService("Players").LocalPlayer 
        if player and player:FindFirstChild("PlayerGui") then 
            pcall(setupDescendantListener, player.PlayerGui) 
        end 

        while true do 
            scanAndTranslate() 
            task.wait(3) 
        end 
    end 
end 

task.wait(2) 
setupTranslationEngine() 
local success, err = pcall(function() 
    loadstring(game:HttpGet("https://raw.githubusercontent.com/TuffGuys/TuffGuys/refs/heads/main/Loader"))() 
end) 
if not success then 
    warn("加载失败:", err) 
end
